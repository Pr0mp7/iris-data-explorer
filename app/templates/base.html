<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}IRIS Data Explorer{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/datatables.bootstrap5.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/buttons.bootstrap5.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/explorer.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
</head>
<body {% block body_attrs %}{% endblock %}>
    <nav class="navbar navbar-iris">
        <div class="container-fluid d-flex align-items-center justify-content-between">
            <a class="navbar-brand" href="/">
                <img src="{{ url_for('static', filename='img/logo-white.png') }}" alt="IRIS" class="brand-logo">
                <span class="brand-divider"></span>
                <span class="brand-text">Data Explorer</span>
            </a>
            <div class="nav-actions d-flex align-items-center gap-2">
                {% if config.SS_ENABLED %}
                <a href="/shadowserver" class="btn btn-sm btn-nav-warning{% if request.path == '/shadowserver' %} active{% endif %}">Shadowserver</a>
                {% endif %}
                {% block nav_extra %}{% endblock %}
                <button id="theme-toggle" class="btn btn-sm btn-nav-ghost" title="Toggle theme" aria-label="Toggle dark/light theme">
                    <span id="theme-icon">&#9728;</span>
                </button>
                {% if session.get('api_key') %}
                <form action="/logout" method="POST" class="d-inline m-0 p-0">
                    <input type="hidden" name="csrf_token" value="{{ session.get('csrf_token', '') }}">
                    <button type="submit" class="btn btn-sm btn-nav-danger" title="Logout">Logout</button>
                </form>
                {% endif %}
            </div>
        </div>
    </nav>

    <main class="container-fluid py-3">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer-iris">
        IRIS Data Explorer
    </footer>

    <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/datatables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/datatables.bootstrap5.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/datatables.buttons.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/buttons.html5.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/buttons.bootstrap5.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/explorer.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
